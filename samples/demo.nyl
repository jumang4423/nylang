ğŸ¶ ( ğŸ‘ || ğŸ‘ ) { 
  ğŸ¤ğŸ¶ ( "OK" ) ;
}

ğŸ„ğŸ„ ( "life game" ) ;

ğŸ„ğŸ„ ( "library import" ) ;
ğŸ½ğŸ½ğŸ½ ( ".nylang/lib/__array__.nyl" ) ;
ğŸ½ğŸ½ğŸ½ ( ".nylang/lib/__rand__.nyl" ) ;

ğŸ„ğŸ„ ( "make empty 2 dimentional array: arr" ) ;
ğŸ™ make_array = ğŸ¨ ( arr, size, value ) {
  ğŸŒ¸ (
    ğŸ¨ ( ) {
      ğŸ™ array_of_array = [ ] ;
      ğŸŒ¸ (
        ğŸ¨ ( ) {
          ğŸ™ array_of_array = ğŸ¥Œ ( array_of_array, value ) ;
        },
        size
      ) ;

      ğŸ™ arr = ğŸ¥Œ ( arr, array_of_array ) ;
    },
    size
  ) ;

  ğŸ¶ ( ğŸ“ ( arr ) != size ) {
    âŒ ( "array size is incorrect" ) ;
  }

  ğŸ™ __test_ar_ar = arr [ 0 ] ;
  ğŸ¶ ( __test_ar_ar [ 0 ] != value ) {
    âŒ ( "expected value is incorrect" ) ;
  }
  ğŸ’¨ arr ;
} ;

ğŸ„ğŸ„ ( "put random value: arr" ) ;
ğŸ™ put_random_value = ğŸ¨ ( arr, times ) {
  ğŸŒ¸ (
    ğŸ¨ ( ) {
        ğŸ™ i = __rand__random_num_zero_to_specified_number ( ğŸ“ ( arr ) ) ;
        ğŸ™ j = __rand__random_num_zero_to_specified_number ( ğŸ“ ( arr ) ) ;
        ğŸ™ arr = ğŸ—¿ ( arr, __rand__random_number ( ) % 2, i, j)
    },
    times
  ) ;

  ğŸ’¨ arr ;
} ;

ğŸ™ remove_outline = ğŸ¨ ( arr ) {
  ğŸ™ arr_len = ğŸ“ ( arr ) ;
  
  ğŸ„ğŸ„ ( "left" ) ;
  ğŸ™ i = 0 ;
  ğŸŒ¸ (
    ğŸ¨ ( ) {
      ğŸ™ arr = ğŸ—¿ ( arr, ğŸ‘, 0, i) ;
      ğŸ™ i = i + 1 ;
    },
    arr_len
  ) ;

  ğŸ„ğŸ„ ( "top" ) ;
  ğŸ™ i = 0 ;
  ğŸŒ¸ (
    ğŸ¨ ( ) {
      ğŸ™ arr = ğŸ—¿ ( arr, ğŸ‘, i, 0) ;
      ğŸ™ i = i + 1 ;
    },
    arr_len
  ) ;

  ğŸ„ğŸ„ ( "right" ) ;
  ğŸ™ i = 0 ;
  ğŸŒ¸ (
    ğŸ¨ ( ) {
      ğŸ™ arr = ğŸ—¿ ( arr, ğŸ‘, arr_len - 1, i) ;
      ğŸ™ i = i + 1 ;
    },
    arr_len
  ) ;

  ğŸ„ğŸ„ ( "bottom" ) ;
  ğŸ™ i = 0 ;
  ğŸŒ¸ (
    ğŸ¨ ( ) {
      ğŸ™ arr = ğŸ—¿ ( arr, ğŸ‘, i, arr_len - 1) ;
      ğŸ™ i = i + 1 ;
    },
    arr_len
  ) ;

  ğŸ’¨ arr ;
}

ğŸ„ğŸ„ ( "literally display array: str" ) ;
ğŸ™ display_array = ğŸ¨ ( arr ) {
  ğŸ™ i = 0 ; ğŸ™ j = 0 ;
  ğŸ™ arr_len = ğŸ“ ( arr ) ;
  ğŸ™ str = "\n->\n\n" ;

  ğŸŒ¸ (
    ğŸ¨ ( ) {
      ğŸ™ j = 0 ; 
      ğŸŒ¸ (
        ğŸ¨ ( ) {
          ğŸ™ _ar = arr [ j ] ;
          ğŸ¶ ( _ar [ i ] ) {
            ğŸ™ str = ğŸ¥Œ ( str, "ğŸ’– " ) ;
          } ğŸ˜± {
            ğŸ™ str = ğŸ¥Œ ( str, "ã€€ " ) ;
          } ;
          ğŸ™ j = j + 1 ;
        },
        arr_len
      ) ;
      ğŸ™ str = ğŸ¥Œ ( str, "\n" ) ;
      ğŸ™ i = i + 1 ;
    },
    arr_len
  ) ;

  ğŸ™ str = ğŸ¥Œ ( str, "\n<-\n\n" ) ;

  ğŸ’¨ str ;
} ;

ğŸ„ğŸ„ ( "next chunk: array" ) ;
ğŸ™ next_chunk = ğŸ¨ ( arr ) {
  ğŸ™ n_c_array = arr ;
  ğŸ™ arr_len = ğŸ“ ( arr ) ;
  ğŸ™ i = 1 ; ğŸ™ j = 1 ;

  ğŸŒ¸ (
    ğŸ¨ ( ) {
      ğŸ™ j = 1 ;
      ğŸŒ¸ (
        ğŸ¨ ( ) {

          ğŸ™ cell_cnt_alive = 0 ;
          ğŸ¶ ( __array__get_two_dimention ( arr, i - 1, j - 1 ) ) {
            ğŸ™ cell_cnt_alive = cell_cnt_alive + 1 ;
          } ;
          ğŸ¶ ( __array__get_two_dimention ( arr, i - 1, j ) ) {
            ğŸ™ cell_cnt_alive = cell_cnt_alive + 1 ;
          } ;
          ğŸ¶ ( __array__get_two_dimention ( arr, i - 1, j + 1 ) ) {
            ğŸ™ cell_cnt_alive = cell_cnt_alive + 1 ;
          } ;
          ğŸ¶ ( __array__get_two_dimention ( arr, i, j + 1 ) ) {
            ğŸ™ cell_cnt_alive = cell_cnt_alive + 1 ;
          } ;
          ğŸ¶ ( __array__get_two_dimention ( arr, i + 1, j + 1 ) ) {
            ğŸ™ cell_cnt_alive = cell_cnt_alive + 1 ;
          } ;
          ğŸ¶ ( __array__get_two_dimention ( arr, i + 1, j ) ) {
            ğŸ™ cell_cnt_alive = cell_cnt_alive + 1 ;
          } ;
          ğŸ¶ ( __array__get_two_dimention ( arr, i + 1, j - 1 ) ) {
            ğŸ™ cell_cnt_alive = cell_cnt_alive + 1 ;
          } ;
          ğŸ¶ ( __array__get_two_dimention ( arr, i, j - 1 ) ) {
            ğŸ™ cell_cnt_alive = cell_cnt_alive + 1 ;
          } ;

          ğŸ™ dead_flag = ğŸ‘ ;

          ğŸ¶ ( __array__get_two_dimention ( arr, i, j ) == ğŸ‘ ) {
            ğŸ„ğŸ„ ( "white" ) ;
            ğŸ¶ ( cell_cnt_alive == 3 ) {
              ğŸ™ n_c_array = ğŸ—¿ ( n_c_array, ğŸ‘, i, j) ;
            } ğŸ˜± {
              ğŸ™ dead_flag = ğŸ‘ ;
            } ;
          } ğŸ˜± {
            ğŸ„ğŸ„ ( "black" ) ;
            ğŸ¶ ( cell_cnt_alive == 2 || cell_cnt_alive == 3 ) { 
              ğŸ™ n_c_array = ğŸ—¿ ( n_c_array, ğŸ‘, i, j ) ;
            } ğŸ˜± {
              ğŸ™ dead_flag = ğŸ‘ ;
            } ;
          } ;

          ğŸ¶ ( dead_flag ) {
            ğŸ™ n_c_array = ğŸ—¿ ( n_c_array, ğŸ‘, i, j ) ;
          } ;

          ğŸ™ j = j + 1 ;
          ğŸ’¨ j != arr_len - 1 ;
        }
      ) ;
      ğŸ™ i = i + 1 ;
      ğŸ’¨ i != arr_len - 1 ;
    }
  ) ;

  ğŸ’¨ n_c_array ;
}

ğŸ™ main = ğŸ¨ ( ) {

  ğŸ¥š ( ) ;

  ğŸ¤ğŸ¶ ( "\n-! life game demo", 0, 255, 0, ğŸ‘) ;

  ğŸ˜ª ( 1000 ) ;

  ğŸ¤ğŸ¶ ( "-! preparing array...", 255, 0, 0, ğŸ‘ ) ;

  ğŸ™ array_size = 20 ;
  ğŸ™ array = put_random_value ( make_array ( [ ], array_size, ğŸ‘ ), array_size * array_size ) ;
  ğŸ™ array = remove_outline ( array ) ;
  ğŸ™ chunk_num = 0 ;

  ğŸ¥š ( ) ;

  ğŸŒ¸ (
    ğŸ¨ ( ) {
      ğŸ¤ğŸ¶ ( display_array ( array ) ) ;

      ğŸ¤ ( " -! life chunk: ", 0, 255, 0, ğŸ‘ ) ;
      ğŸ¤ğŸ¶ ( chunk_num, 0, 255, 0, ğŸ‘ ) ;
      ğŸ™ array = next_chunk ( array ) ;
      ğŸ™ chunk_num = chunk_num + 1 ;
      ğŸ¥š ( ) ;
      ğŸ’¨ ğŸ‘ ;
    }
  ) ;

} ;

main ( ) ;